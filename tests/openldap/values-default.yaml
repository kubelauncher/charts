# OpenLDAP default test configuration
auth:
  adminPassword: "adminpass123"
  configPassword: "configpass123"

organization: "Test Organization"
domain: "test.local"

resources:
  requests:
    memory: 512Mi
    cpu: 250m
  limits:
    memory: 1Gi
    cpu: 500m

persistence:
  enabled: false
  # Mount path - env vars must match this
  mountPath: /tmp/openldap

# Override default data paths to use temp directory
# Must match persistence.mountPath structure
extraEnvVars:
  - name: LDAP_DATA_DIR
    value: "/tmp/openldap/data"
  - name: LDAP_CONFIG_DIR
    value: "/tmp/openldap/config"
  - name: LDAP_RUN_DIR
    value: "/tmp/openldap/run"

# Use non-root user with initContainer for permissions
podSecurityContext:
  enabled: true
  fsGroup: 1001
containerSecurityContext:
  enabled: true
  runAsUser: 1001
  runAsGroup: 1001
  runAsNonRoot: true

# Increase startup probe timeout
startupProbe:
  enabled: true
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 60
