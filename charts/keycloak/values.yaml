## @section Global parameters

## @param global.imageRegistry Global Docker image registry
## @param global.imagePullSecrets Global Docker registry secret names as an array
global:
  imageRegistry: ""
  imagePullSecrets: []

## @section Keycloak image parameters

## @param image.registry Keycloak image registry
## @param image.repository Keycloak image repository
## @param image.tag Keycloak image tag (defaults to Chart appVersion)
## @param image.digest Keycloak image digest (overrides tag)
## @param image.pullPolicy Keycloak image pull policy
## @param image.pullSecrets Keycloak image pull secrets
image:
  registry: ghcr.io
  repository: kubelauncher/keycloak
  tag: ""
  digest: ""
  pullPolicy: IfNotPresent
  pullSecrets: []

## @section Keycloak common parameters

## @param nameOverride Partially override keycloak.fullname
## @param fullnameOverride Fully override keycloak.fullname
## @param namespaceOverride Override the namespace
## @param commonLabels Labels to add to all deployed objects
## @param commonAnnotations Annotations to add to all deployed objects
## @param clusterDomain Kubernetes cluster domain
## @param extraDeploy Extra objects to deploy (evaluated as a template)
nameOverride: ""
fullnameOverride: ""
namespaceOverride: ""
commonLabels: {}
commonAnnotations: {}
clusterDomain: cluster.local
extraDeploy: []

## @param replicaCount Number of Keycloak replicas
replicaCount: 1

## @section Keycloak auth parameters

## @param auth.adminUser Keycloak admin username
## @param auth.adminPassword Keycloak admin password
## @param auth.existingSecret Name of existing secret containing Keycloak credentials
## @param auth.existingSecretAdminUserKey Key in existing secret for the admin username
## @param auth.existingSecretAdminPasswordKey Key in existing secret for the admin password
auth:
  adminUser: "admin"
  adminPassword: ""
  existingSecret: ""
  existingSecretAdminUserKey: "keycloak-admin-user"
  existingSecretAdminPasswordKey: "keycloak-admin-password"

## @section Keycloak database configuration parameters

## @param database.vendor Database vendor (postgres, mysql, mariadb)
## @param database.url Database JDBC URL
## @param database.username Database username
## @param database.password Database password
## @param database.existingSecret Name of existing secret containing database credentials
## @param database.existingSecretUsernameKey Key in existing secret for the database username
## @param database.existingSecretPasswordKey Key in existing secret for the database password
database:
  vendor: "postgres"
  url: ""
  username: ""
  password: ""
  existingSecret: ""
  existingSecretUsernameKey: "db-username"
  existingSecretPasswordKey: "db-password"

## @section Keycloak configuration parameters

## @param hostname Keycloak hostname for frontend URLs
## @param proxyHeaders Keycloak proxy headers mode (xforwarded, forwarded)
hostname: ""
proxyHeaders: "xforwarded"

## @section Keycloak pod parameters

## @param containerPorts.http Keycloak HTTP container port
## @param containerPorts.management Keycloak management port (health endpoints)
containerPorts:
  http: 8080
  management: 9000

## @param resourcesPreset Set container resources according to one common preset
## @param resources Set container resource requests and limits
resourcesPreset: "nano"
resources: {}

## @param podSecurityContext.enabled Enable pod security context
## @param podSecurityContext.fsGroup Set filesystem group ID for the pod
podSecurityContext:
  enabled: true
  fsGroup: 1001

## @param containerSecurityContext.enabled Enable container security context
## @param containerSecurityContext.runAsUser Set runAsUser for the container
## @param containerSecurityContext.runAsGroup Set runAsGroup for the container
## @param containerSecurityContext.runAsNonRoot Set runAsNonRoot for the container
## @param containerSecurityContext.allowPrivilegeEscalation Set allowPrivilegeEscalation for the container
## @param containerSecurityContext.readOnlyRootFilesystem Set readOnlyRootFilesystem for the container
## @param containerSecurityContext.capabilities.drop List of capabilities to drop
## @param containerSecurityContext.seccompProfile.type Set seccomp profile type for the container
containerSecurityContext:
  enabled: true
  runAsUser: 1001
  runAsGroup: 1001
  runAsNonRoot: true
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  capabilities:
    drop: ["ALL"]
  seccompProfile:
    type: RuntimeDefault

## @param startupProbe.enabled Enable startup probe
## @param startupProbe.initialDelaySeconds Initial delay seconds for startup probe
## @param startupProbe.periodSeconds Period seconds for startup probe
## @param startupProbe.timeoutSeconds Timeout seconds for startup probe
## @param startupProbe.failureThreshold Failure threshold for startup probe
## @param startupProbe.successThreshold Success threshold for startup probe
startupProbe:
  enabled: true
  initialDelaySeconds: 15
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 30
  successThreshold: 1

## @param livenessProbe.enabled Enable liveness probe
## @param livenessProbe.initialDelaySeconds Initial delay seconds for liveness probe
## @param livenessProbe.periodSeconds Period seconds for liveness probe
## @param livenessProbe.timeoutSeconds Timeout seconds for liveness probe
## @param livenessProbe.failureThreshold Failure threshold for liveness probe
## @param livenessProbe.successThreshold Success threshold for liveness probe
livenessProbe:
  enabled: true
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 6
  successThreshold: 1

## @param readinessProbe.enabled Enable readiness probe
## @param readinessProbe.initialDelaySeconds Initial delay seconds for readiness probe
## @param readinessProbe.periodSeconds Period seconds for readiness probe
## @param readinessProbe.timeoutSeconds Timeout seconds for readiness probe
## @param readinessProbe.failureThreshold Failure threshold for readiness probe
## @param readinessProbe.successThreshold Success threshold for readiness probe
readinessProbe:
  enabled: true
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
  successThreshold: 1

## @section Keycloak service parameters

## @param service.type Keycloak Kubernetes service type
## @param service.ports.http Keycloak HTTP service port
## @param service.nodePorts.http Node port for HTTP
## @param service.clusterIP Keycloak service Cluster IP
## @param service.annotations Additional annotations for the Keycloak service
## @param service.labels Additional labels for the Keycloak service
service:
  type: ClusterIP
  ports:
    http: 8080
  nodePorts:
    http: ""
  clusterIP: ""
  annotations: {}
  labels: {}

## @section Ingress
## @param ingress.enabled Enable ingress
## @param ingress.ingressClassName Ingress class name
## @param ingress.annotations Ingress annotations
## @param ingress.hosts Ingress hosts configuration
## @param ingress.tls Ingress TLS configuration
ingress:
  enabled: false
  ingressClassName: ""
  annotations: {}
  hosts:
    - host: chart-example.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

## @section Gateway API
## @param httpRoute.enabled Enable HTTPRoute (Gateway API)
## @param httpRoute.parentRefs.name Gateway name
## @param httpRoute.parentRefs.namespace Gateway namespace
## @param httpRoute.hostnames HTTPRoute hostnames
## @param httpRoute.path HTTPRoute path
## @param httpRoute.pathType HTTPRoute path type (PathPrefix, Exact)
httpRoute:
  enabled: false
  parentRefs:
    name: traefik-gateway
    namespace: traefik
  hostnames: []
  path: /
  pathType: PathPrefix

## @param nodeSelector Node labels for pod assignment
## @param tolerations Tolerations for pod assignment
## @param affinity Affinity for pod assignment
## @param podLabels Extra labels for Keycloak pods
## @param podAnnotations Extra annotations for Keycloak pods
## @param extraVolumes Extra volumes to add to the Keycloak deployment
## @param extraVolumeMounts Extra volume mounts to add to the Keycloak container
## @param extraEnvVars Extra environment variables to add to the Keycloak container
## @param sidecars Extra sidecar containers to add to the Keycloak pod
## @param initContainers Extra init containers to add to the Keycloak pod
nodeSelector: {}
tolerations: []
affinity: {}
podLabels: {}
podAnnotations: {}
extraVolumes: []
extraVolumeMounts: []
extraEnvVars: []
sidecars: []
initContainers: []

## @section Network Policy
## @param networkPolicy.enabled Enable network policy
## @param networkPolicy.allowExternal Allow external connections
## @param networkPolicy.additionalRules Additional network policy rules
networkPolicy:
  enabled: false
  allowExternal: true
  additionalRules: []

## @section ServiceAccount parameters

## @param serviceAccount.create Enable creation of a ServiceAccount for Keycloak pods
## @param serviceAccount.name Name of the created ServiceAccount
## @param serviceAccount.automountServiceAccountToken Automount service account token for the pod
## @param serviceAccount.annotations Additional annotations for the ServiceAccount
serviceAccount:
  create: true
  name: ""
  automountServiceAccountToken: false
  annotations: {}
